<!DOCTYPE html>
<html>

<head>
    <title>A simple map</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin=""/>

    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>
    
    <style>
        body {
            margin: 0;
            padding: 0;
        }

        #mapid {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
            height: 100%;
        }

    </style>
</head>

<body>
    <div id="mapid"></div>

    <script>
            
            
            var map = L.map("mapid")
                .setView([42.33, -71.06], 12 );

                L.tileLayer('http://tiles.mapc.org/basemap/{z}/{x}/{y}.png', {
                    attribution: 'Tiles by <a href="http://mapc.org">MAPC</a>, Data by <a href="http://mass.gov/mgis">MassGIS</a>',
                    maxZoom: 18,
                    minZoom: 12,
                }).addTo(map);
              
    </script>
        
    <% @sensors.each do |sensor| %>
        <% locary = [] %>
        <% location = sensor.location.split(","); %>
        <% location.each do |c| %>
            <% print locary %>
            <% locary.push(c.to_f) %>
        <% end %>
        <script>
            var latlng = L.latLng(<%= locary[0] %>,<%= locary[1] %>);
            marker_tmp = L.marker(latlng).addTo(map);
        </script>
     <% end %>
    
</body>

</html>
